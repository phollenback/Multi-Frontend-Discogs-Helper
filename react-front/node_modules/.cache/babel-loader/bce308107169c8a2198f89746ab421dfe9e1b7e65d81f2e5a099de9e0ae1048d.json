{"ast":null,"code":"var _jsxFileName = \"/Users/peytonhollenback/Cod3/Multi-Frontend-Discogs-Helper/react-front/src/components/Releases/OneRelease.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport '../../styles/OneRelease.css';\nimport InfoPanel from './InfoPanel';\nimport Tracks from './Tracks';\nimport Stats from './Stats';\nimport CollectionForm from './CollectionForm';\nimport WantlistForm from './WantlistForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OneRelease = () => {\n  _s();\n  const [releaseData, setReleaseData] = useState(null);\n  const [record, setRecord] = useState({\n    discogsId: 0,\n    title: '',\n    artist: '',\n    releaseYear: 0,\n    genre: '',\n    styles: ''\n  });\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    loadRelease();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const loadRelease = async () => {\n    try {\n      var _community$rating;\n      const config = {\n        method: 'get',\n        maxBodyLength: Infinity,\n        url: `https://api.discogs.com/releases/${id}`,\n        params: {\n          token: 'sgSOwNnDMKJCOWpLLTdNccwHTAbGVrUZOXjLcqxl'\n        }\n      };\n      const response = await axios.request(config);\n      const {\n        artists,\n        formats,\n        community,\n        num_for_sale,\n        lowest_price,\n        title,\n        released,\n        notes,\n        videos,\n        genres,\n        styles,\n        tracklist,\n        images\n      } = response.data;\n      console.log(artists);\n      setRecord({\n        discogsId: Number(id),\n        title: title || '',\n        artist: Array.isArray(artists) ? artists.map(artist => artist.name).join(', ') // Extract the artist names and join them with commas\n        : '',\n        // If artists is not an array, default to empty string\n        releaseYear: released ? new Date(released).getFullYear() : 0,\n        genre: (genres === null || genres === void 0 ? void 0 : genres.join(', ')) || '',\n        styles: (styles === null || styles === void 0 ? void 0 : styles.join(', ')) || ''\n      });\n      const structuredData = {\n        artists: artists || [],\n        formats: formats || [],\n        rating: (community === null || community === void 0 ? void 0 : (_community$rating = community.rating) === null || _community$rating === void 0 ? void 0 : _community$rating.average) || 'No rating',\n        numForSale: num_for_sale || 0,\n        lowestPrice: lowest_price || 'N/A',\n        title: title || 'Untitled',\n        released: released || 'Unknown',\n        notes: notes || 'No notes available',\n        videos: videos || [],\n        genres: genres || [],\n        styles: styles || [],\n        tracklist: tracklist || [],\n        images: images || []\n      };\n      setReleaseData(structuredData);\n    } catch (error) {\n      var _error$response;\n      console.error('Error fetching release data:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n    }\n  };\n  if (!releaseData) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading release data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-3\",\n      children: /*#__PURE__*/_jsxDEV(InfoPanel, {\n        releaseData: releaseData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\",\n        children: /*#__PURE__*/_jsxDEV(Stats, {\n          releaseData: releaseData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(Tracks, {\n          tracklist: releaseData.tracklist\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(CollectionForm, {\n        record: record,\n        id: id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(WantlistForm, {\n        record: record,\n        id: id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 9\n  }, this);\n};\n_s(OneRelease, \"Y33vzXBxysQYD0VtwhSNpSFhMOs=\", false, function () {\n  return [useParams];\n});\n_c = OneRelease;\nexport default OneRelease;\nvar _c;\n$RefreshReg$(_c, \"OneRelease\");","map":{"version":3,"names":["React","useEffect","useState","useParams","axios","InfoPanel","Tracks","Stats","CollectionForm","WantlistForm","jsxDEV","_jsxDEV","OneRelease","_s","releaseData","setReleaseData","record","setRecord","discogsId","title","artist","releaseYear","genre","styles","id","loadRelease","_community$rating","config","method","maxBodyLength","Infinity","url","params","token","response","request","artists","formats","community","num_for_sale","lowest_price","released","notes","videos","genres","tracklist","images","data","console","log","Number","Array","isArray","map","name","join","Date","getFullYear","structuredData","rating","average","numForSale","lowestPrice","error","_error$response","message","children","fileName","_jsxFileName","lineNumber","columnNumber","className","_c","$RefreshReg$"],"sources":["/Users/peytonhollenback/Cod3/Multi-Frontend-Discogs-Helper/react-front/src/components/Releases/OneRelease.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport '../../styles/OneRelease.css';\nimport InfoPanel from './InfoPanel';\nimport Tracks from './Tracks';\nimport Stats from './Stats';\nimport CollectionForm from './CollectionForm';\nimport WantlistForm from './WantlistForm';\n\nconst OneRelease = () => {\n    const [releaseData, setReleaseData] = useState(null); \n    const [record, setRecord] = useState({\n        discogsId: 0,\n        title: '',\n        artist: '',\n        releaseYear: 0,\n        genre: '',\n        styles: ''\n    }); \n    const { id } = useParams();\n\n    useEffect(() => {\n        loadRelease();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []); \n\n    const loadRelease = async () => {\n        try {\n            const config = {\n                method: 'get',\n                maxBodyLength: Infinity,\n                url: `https://api.discogs.com/releases/${id}`,\n                params: {\n                    token: 'sgSOwNnDMKJCOWpLLTdNccwHTAbGVrUZOXjLcqxl',\n                },\n            };\n\n            const response = await axios.request(config);\n\n            const {\n                artists,\n                formats,\n                community,\n                num_for_sale,\n                lowest_price,\n                title,\n                released,\n                notes,\n                videos,\n                genres,\n                styles,\n                tracklist,\n                images,\n            } = response.data;\n            console.log(artists);\n            setRecord({\n                discogsId: Number(id),\n                title: title || '',\n                artist: Array.isArray(artists)\n                    ? artists.map(artist => artist.name).join(', ')  // Extract the artist names and join them with commas\n                    : '',  // If artists is not an array, default to empty string\n                releaseYear: released ? new Date(released).getFullYear() : 0,\n                genre: genres?.join(', ') || '',\n                styles: styles?.join(', ') || ''\n            });\n            const structuredData = {\n                artists: artists || [],\n                formats: formats || [],\n                rating: community?.rating?.average || 'No rating',\n                numForSale: num_for_sale || 0,\n                lowestPrice: lowest_price || 'N/A',\n                title: title || 'Untitled',\n                released: released || 'Unknown',\n                notes: notes || 'No notes available',\n                videos: videos || [],\n                genres: genres || [],\n                styles: styles || [],\n                tracklist: tracklist || [],\n                images: images || [],\n            };\n\n            setReleaseData(structuredData);\n        } catch (error) {\n            console.error('Error fetching release data:', error.response?.data || error.message);\n        }\n    };\n\n    \n\n    if (!releaseData) {\n        return <p>Loading release data...</p>;\n    }\n\n    return (\n        <div className='row'>\n            <div className='col-3'>\n                <InfoPanel releaseData={releaseData} />\n            </div>\n            <div className='col-8'>\n                <div className=''>\n                    <Stats releaseData={releaseData} />\n                </div>\n                <div className='text-center'>\n                    <Tracks tracklist={releaseData.tracklist} />\n                </div>\n            </div>\n            <hr />\n            <div className='row'>\n                <CollectionForm record={record} id={id}/>\n                <WantlistForm record={record} id={id}/>\n            </div>\n        </div>\n    );\n};\n\nexport default OneRelease;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}