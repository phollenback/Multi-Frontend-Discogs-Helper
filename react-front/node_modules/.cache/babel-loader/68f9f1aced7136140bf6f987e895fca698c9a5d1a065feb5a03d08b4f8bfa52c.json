{"ast":null,"code":"var _jsxFileName = \"/Users/peytonhollenback/Cod3/Multi-Frontend-Discogs-Helper/react-front/src/components/Releases/CollectionForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useAuthContext } from '../../AuthContext';\nimport { useDiscogs } from '../../utility/dataSource';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CollectionForm = ({\n  id,\n  title\n}) => {\n  _s();\n  const {\n    postData\n  } = useDiscogs();\n  const {\n    authState\n  } = useAuthContext();\n  const [collectionData, setCollectionData] = useState({\n    notes: '',\n    rating: 0,\n    price_threshold: 0\n  });\n  const handleOwnClick = async () => {\n    if (!authState.username) {\n      alert(\"Sign in to use this feature.\");\n      return;\n    }\n    try {\n      const endpoint = `/users/${authState.username}/collection/folders/1/releases/${id}`;\n      const data = {\n        notes: collectionData.notes,\n        rating: collectionData.rating,\n        price_threshold: collectionData.price_threshold\n      };\n      const response = await postData(endpoint, data);\n      console.log(response);\n      if (response.basic_information.title === title) {\n        alert(\"Collection item added successfully.\");\n      } else {\n        alert(\"Collection item not added.\");\n      }\n    } catch (error) {\n      console.error(\"Error adding to collection\");\n      alert(\"There was an unexpected error when adding to the collection.\");\n    }\n  };\n  const handleCollectionChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setCollectionData(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleOwnClick,\n      className: \"btn btn-success w-100\",\n      children: \"Already Own\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Notes:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"notes\",\n          value: collectionData.notes,\n          onChange: handleCollectionChange,\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Rating (1-5):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"rating\",\n          min: \"1\",\n          max: \"5\",\n          value: collectionData.rating,\n          onChange: handleCollectionChange,\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Price Threshold:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"price_threshold\",\n          value: collectionData.price_threshold,\n          onChange: handleCollectionChange,\n          className: \"form-control\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(CollectionForm, \"U8+LapyHVTy5zJXzYVo09X6lMTU=\", false, function () {\n  return [useDiscogs, useAuthContext];\n});\n_c = CollectionForm;\nexport default CollectionForm;\nvar _c;\n$RefreshReg$(_c, \"CollectionForm\");","map":{"version":3,"names":["React","useState","useAuthContext","useDiscogs","jsxDEV","_jsxDEV","CollectionForm","id","title","_s","postData","authState","collectionData","setCollectionData","notes","rating","price_threshold","handleOwnClick","username","alert","endpoint","data","response","console","log","basic_information","error","handleCollectionChange","e","name","value","target","prevState","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onChange","type","min","max","_c","$RefreshReg$"],"sources":["/Users/peytonhollenback/Cod3/Multi-Frontend-Discogs-Helper/react-front/src/components/Releases/CollectionForm.js"],"sourcesContent":["import React, { useState }  from 'react';\nimport { useAuthContext } from '../../AuthContext';\nimport { useDiscogs } from '../../utility/dataSource';\n\n\nconst CollectionForm = ({id, title}) => {\n    const { postData } = useDiscogs();\n    const { authState } = useAuthContext();\n    const [collectionData, setCollectionData] = useState({\n        notes: '',\n        rating: 0,\n        price_threshold: 0,\n    });\n\n    const handleOwnClick = async () => {\n        if (!authState.username) {\n            alert(\"Sign in to use this feature.\");\n            return;\n        }\n        try {\n            const endpoint = `/users/${authState.username}/collection/folders/1/releases/${id}`;\n            const data = {\n                notes: collectionData.notes,   \n                rating: collectionData.rating,\n                price_threshold: collectionData.price_threshold,\n            };\n\n            const response = await postData(endpoint, data);\n            console.log(response);\n\n            if (response.basic_information.title === title) {\n                alert(\"Collection item added successfully.\");\n            } else {\n                alert(\"Collection item not added.\");\n            }\n        } catch (error) {\n            console.error(\"Error adding to collection\");\n            alert(\"There was an unexpected error when adding to the collection.\");\n        }\n    };\n\n    \n\n    const handleCollectionChange = (e) => {\n        const { name, value } = e.target;\n        setCollectionData((prevState) => ({\n            ...prevState,\n            [name]: value,\n        }));\n    };\n  return (\n    <div className='col-6'>\n        <button onClick={handleOwnClick} className='btn btn-success w-100' >\n                        Already Own\n        </button>\n                    <form>\n                        <div>\n                            <label>Notes:</label>\n                            <textarea\n                                name=\"notes\"\n                                value={collectionData.notes}\n                                onChange={handleCollectionChange}\n                                className=\"form-control\"\n                            />\n                        </div>\n                        <div>\n                            <label>Rating (1-5):</label>\n                            <input\n                                type=\"number\"\n                                name=\"rating\"\n                                min=\"1\"\n                                max=\"5\"\n                                value={collectionData.rating}\n                                onChange={handleCollectionChange}\n                                className=\"form-control\"\n                            />\n                        </div>\n                        <div>\n                            <label>Price Threshold:</label>\n                            <input\n                                type=\"number\"\n                                name=\"price_threshold\"\n                                value={collectionData.price_threshold}\n                                onChange={handleCollectionChange}\n                                className=\"form-control\"\n                            />\n                        </div>\n                    </form>\n    </div>\n  )\n}\n\nexport default CollectionForm\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}